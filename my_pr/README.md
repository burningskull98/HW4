Этот проект реализует простой HTTP API сервис для скоринга пользователей и получения интересов клиентов. 
Сервис предоставляет два основных метода:
online_score: Вычисляет скоринговый балл на основе данных пользователя (телефон, email, дата рождения и т.д.).
clients_interests: Возвращает список интересов для заданных ID клиентов.
Сервис использует Redis для хранения данных (кэш и персистентное хранение интересов).

Проект включает:

api.py: Основной код API с обработкой HTTP-запросов, валидацией и маршрутизацией.
store.py: Класс для взаимодействия с Redis (с поддержкой кэша и персистентного хранения).
scoring.py: Логика расчета скоринга и получения интересов.
test_api.py: Комплексные тесты (юнит, интеграционные, функциональные) с использованием pytest.
Установка
Убедитесь, что у вас установлен Python 3.13.5

Клонируйте репозиторий или скачайте файлы проекта.

Установите зависимости:


pip install pytest redis
pytest: Для запуска тестов.
redis: Для взаимодействия с Redis (требуется для импорта в store.py, но в тестах используется mock).
Установите и запустите Redis (локально на порту 6379 по умолчанию). Если Redis недоступен, сервис будет работать без кэша/хранения.

Запуск
Запустите сервер:


Copy code
python api.py --port 8080 --log log.txt
--port: Порт для сервера (по умолчанию 8080).
--log: Файл для логирования (по умолчанию None — логи в консоль).
Сервер будет слушать на http://localhost:8080/method.

Тестирование
Запустите тесты с помощью pytest:


Copy code
pytest test_api.py
Тесты включают:
Юнит-тесты: Проверка полей валидации, аутентификации и обработчиков.
Интеграционные тесты: Тестирование с in-memory mock для "БД" (без реального Redis).
Функциональные тесты: End-to-end тестирование API через симуляцию HTTP-запросов.
Все тесты параметризованы с декоратором @cases для удобного отображения упавших кейсов.



